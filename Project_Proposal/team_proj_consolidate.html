<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Team Red - Axel Goh(2203412), Jeffrey Mak Chee Hong(2201194), Tristan Raj Shankar(2203491), Ruchel Lee Wen Xuan(2202719), Yong Kai Jie(2203201)">

<title>AAI1001-Data Engineering and Visualization Project Proposal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="team_proj_consolidate_files/libs/clipboard/clipboard.min.js"></script>
<script src="team_proj_consolidate_files/libs/quarto-html/quarto.js"></script>
<script src="team_proj_consolidate_files/libs/quarto-html/popper.min.js"></script>
<script src="team_proj_consolidate_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="team_proj_consolidate_files/libs/quarto-html/anchor.min.js"></script>
<link href="team_proj_consolidate_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="team_proj_consolidate_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="team_proj_consolidate_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="team_proj_consolidate_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="team_proj_consolidate_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AAI1001-Data Engineering and Visualization Project Proposal</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Team Red - Axel Goh(2203412), Jeffrey Mak Chee Hong(2201194), Tristan Raj Shankar(2203491), Ruchel Lee Wen Xuan(2202719), Yong Kai Jie(2203201) </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>In this project proposal document, the following RStudio packages will be utilised:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbeeswarm)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="team-project-proposal" class="level1">
<h1>Team Project Proposal</h1>
<p>Visualizing global fertility rates against country populations from U.N. World Population Prospects 2022.</p>
</section>
<section id="section" class="level1">
<h1>Section</h1>
<p>Our project proposal comprises of the following sections:</p>
<ol type="1">
<li><a href="#original-data-vis">Original Data Visualization from New York Times</a></li>
<li><a href="#critical-assessment">Critical Assessment of the Original Visualization</a></li>
<li><a href="#improvements">Proposed Improvements</a></li>
<li><a href="#data-cleaning">Data Cleaning</a></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#reference">References</a></li>
</ol>
</section>
<section id="original-data-vis" class="level1">
<h1>Original Data Visualization from New York Times</h1>
<p>The chosen data visualisation <a href="#fig1">Figure 1</a> is a bubble chart from the U.N. World Population Prospects 2022, showing global fertility rates against country populations. The size of each bubble corresponds to the population of the country, while the position on the vertical axis indicates the total fertility rate, which is the number of births a woman would have if she followed the average pattern of births in her country during her lifetime.</p>
<p>The significance of this visualisation lies in its clear depiction of a key demographic indicator: the total fertility rate (TFR). <a href="#ref1">Sarah Chadorsh</a> from New York Times illustrates a fundamental shift in population trends, where most of the world now has below-replacement fertility, meaning that the average number of children per woman is less than the number needed to maintain the current population level. A rate of about <a href="#ref1">2.1 children per woman</a> is considered replacement level fertility, taking into account additional births needed to compensate for child mortality and sex ratio imbalances at birth.</p>
<p>This <a href="#fig1">graph</a> also highlights the contrast between countries with high fertility rates, primarily in Africa, and those with low rates, such as in Europe and East Asia. This information is crucial for understanding future demographic shifts, challenges of population decline, issues of an aging population, and the economic and social policy adjustments that might be needed to accommodate these changes</p>
<p>The chart’s significance is in demonstrating these contrasting trends and their implications for population growth, economic policy, and social change.</p>
<section id="fig1" class="level3">
<h3 class="anchored" data-anchor-id="fig1">Countries fertility rate</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"PopulationGraph.jpeg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="PopulationGraph.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure 1: Visualization of global fertility rates against country populations from U.N. World Population Prospects 2022 by Sara Chodosh (2022).</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="critical-assessment" class="level1">
<h1>Critical Assessment of the Original Visualization</h1>
<p>The graphical representation aims to exhibit three variables: country population (quantitative), fertility rate (quantitative), and the categorization of fertility rates with respect to the replacement level (categorical). The choice to depict population through bubble size is judicious, providing an immediate visual cue to the viewer about the relative population sizes among countries.</p>
<p>Employing the y-axis for the fertility rate is appropriate and traditional, offering a straightforward interpretation of fertility rates in comparison to one another. The color coding to distinguish countries below and above the replacement fertility rate is an effective use of visual contrast, aiding rapid differentiation.</p>
<p>Furthermore, the annotated threshold for replacement fertility lends crucial context, clarifying the pivotal fertility rate at which a population replaces itself from one generation to the next without external influences.</p>
<p>We have analysed the graph and listed out it strengths and weaknesses:</p>
<p><strong>Strengths</strong>:</p>
<ol type="1">
<li><p>Colour Contrast: The graph effectively uses color to differentiate between countries with below-replacement and above-replacement fertility rates. Countries below the replacement level are highlighted in red, facilitating quick visual identification.</p></li>
<li><p>Bubble Size for Population Comparison: Varying bubble sizes offer a visual comparison of country populations, allowing viewers to quickly discern which countries have larger or smaller populations relative to others.</p></li>
<li><p>Y-Axis for Fertility Rates: The y-axis is clearly labeled to indicate fertility rates, making it easy for viewers to understand the fertility rate of each country in relation to others.</p></li>
</ol>
<p><strong>Areas for Improvement</strong>:</p>
<ol type="1">
<li><p>Data Points Beyond Y-Axis: Some data points exceed the bounds of the y-axis, potentially leading to confusion or misinterpretation of the data.</p></li>
<li><p>Alignment on Y-Axis: Countries sharing the same fertility rate are not perfectly aligned horizontally, complicating direct comparisons as shown in <a href="#fig2">Figure 2</a>.</p></li>
<li><p>Population Size Precision: Precisely gauging population sizes from bubble sizes is challenging, as the legend indicates only three population bubble sizes: 100,000; 100 million; and 1 billion shown in <a href="#fig1">Figure 1</a>.</p></li>
<li><p>Inconsistent Colour Coding: Inconsistencies in colour coding are observed, where some countries below the replacement fertility rate are not marked in red, leading to potential misinterpretation of the data shown in <a href="#fig2">Figure 2</a> .</p></li>
<li><p>Inconsistent Labelling: Bubbles without labels offer a hover-on description showing the specific country’s fertility rate, but those labeled with the country name lack this option limiting data accessibility. An example would be the India’s bubble in <a href="#fig2">Figure 2</a>, where there is no hover on effect.</p></li>
<li><p>Country Identification: Identifying specific countries quickly is challenging due to the graph’s density and lack of an interactive element for highlighting or searching for a country.</p></li>
<li><p>Visibility of Population Size: The overlap and varying sizes of bubbles obscure the actual population size for each country.</p></li>
<li><p>Hover Functionality: The absence of hover functionality for labeled bubbles restricts viewers from accessing additional information easily, diminishing the visualization’s interactivity and educational value.</p></li>
<li><p>Missing Population Data on Hover: When hovering over bubbles, population size or other pertinent data is not displayed, which would have been beneficial for viewers seeking detailed information from <a href="#fig2">Figure 2</a>.</p></li>
</ol>
<section id="fig2" class="level3">
<h3 class="anchored" data-anchor-id="fig2">India Vs Kuwait fertility rate</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"kuwait-lebanon-fertility rate.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kuwait-lebanon-fertility%20rate.png" class="img-fluid figure-img" width="593"></p>
<figcaption class="figure-caption">Figure 2: Inconsistencies in Fertility Rate Representation - Despite identical fertility rates, the visualization reveals a lack of consistent coloring and alignment among countries, with disparities in the positioning along the shared y-axis value.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="improvements" class="level2">
<h2 class="anchored" data-anchor-id="improvements">Describe any improvements you intend to incorporate.</h2>
<ol type="1">
<li><p>Implement a World Map overlay to contextualize fertility rate and population data geographically, enhancing usability and comprehension of regional demographic trends.</p></li>
<li><p>Utilize a sequential ColorBrewer palette <a href="#ref2">(Colorbrewer 2.0 2013)</a> for each country to represent fertility rates, allowing easy recognition of demographic variations. In addition, the assessment of suitability for colorblind viewers will be evaluated with the ‘colorblindcheck’ package in R to ensure accessibility.</p></li>
<li><p>Introduce semi-transparent hover tooltips to provide detailed statistics for each country, namely fertility rate and population size, without obscuring the map.</p></li>
<li><p>Add a zoom function that activates upon clicking a country, enabling a detailed examination of demographic details and facilitating an in-depth understanding of fertility rates.</p></li>
<li><p>Integrate a search function to quickly locate and examine data for specific countries, enabling personalized data exploration.</p></li>
</ol>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<p>Read xlsx UN_PPP2022</p>
<p>Datasets Used include: Demographic Indicators from : https://population.un.org/wpp/Download/Standard/MostUsed/ Which include total population as of 1 January in the thousands</p>
<p>New York Times based their visualization on data by UN World Population Prospects 2022, available in CSV format with each row representing a country and its demographic statistics like population, fertility rate. The data is available in the following link: https://population.un.org/wpp/Download/Standard/MostUsed/. Below is a summary of the data using glimpse() and summary()</p>
<section id="glimpsed-data" class="level3">
<h3 class="anchored" data-anchor-id="glimpsed-data">Glimpsed Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(UN_PPP2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 20,596
Columns: 65
$ Index                                                                                            &lt;chr&gt; …
$ Variant                                                                                          &lt;chr&gt; …
$ `Region, subregion, country or area *`                                                           &lt;chr&gt; …
$ Notes                                                                                            &lt;chr&gt; …
$ `Location code`                                                                                  &lt;chr&gt; …
$ `ISO3 Alpha-code`                                                                                &lt;chr&gt; …
$ `ISO2 Alpha-code`                                                                                &lt;chr&gt; …
$ `SDMX code**`                                                                                    &lt;chr&gt; …
$ Type                                                                                             &lt;chr&gt; …
$ `Parent code`                                                                                    &lt;chr&gt; …
$ Year                                                                                             &lt;chr&gt; …
$ `Total Population, as of 1 January (thousands)`                                                  &lt;chr&gt; …
$ `Total Population, as of 1 July (thousands)`                                                     &lt;chr&gt; …
$ `Male Population, as of 1 July (thousands)`                                                      &lt;chr&gt; …
$ `Female Population, as of 1 July (thousands)`                                                    &lt;chr&gt; …
$ `Population Density, as of 1 July (persons per square km)`                                       &lt;chr&gt; …
$ `Population Sex Ratio, as of 1 July (males per 100 females)`                                     &lt;chr&gt; …
$ `Median Age, as of 1 July (years)`                                                               &lt;chr&gt; …
$ `Natural Change, Births minus Deaths (thousands)`                                                &lt;chr&gt; …
$ `Rate of Natural Change (per 1,000 population)`                                                  &lt;chr&gt; …
$ `Population Change (thousands)`                                                                  &lt;chr&gt; …
$ `Population Growth Rate (percentage)`                                                            &lt;chr&gt; …
$ `Population Annual Doubling Time (years)`                                                        &lt;chr&gt; …
$ `Births (thousands)`                                                                             &lt;chr&gt; …
$ `Births by women aged 15 to 19 (thousands)`                                                      &lt;chr&gt; …
$ `Crude Birth Rate (births per 1,000 population)`                                                 &lt;chr&gt; …
$ `Total Fertility Rate (live births per woman)`                                                   &lt;chr&gt; …
$ `Net Reproduction Rate (surviving daughters per woman)`                                          &lt;chr&gt; …
$ `Mean Age Childbearing (years)`                                                                  &lt;chr&gt; …
$ `Sex Ratio at Birth (males per 100 female births)`                                               &lt;chr&gt; …
$ `Total Deaths (thousands)`                                                                       &lt;chr&gt; …
$ `Male Deaths (thousands)`                                                                        &lt;chr&gt; …
$ `Female Deaths (thousands)`                                                                      &lt;chr&gt; …
$ `Crude Death Rate (deaths per 1,000 population)`                                                 &lt;chr&gt; …
$ `Life Expectancy at Birth, both sexes (years)`                                                   &lt;chr&gt; …
$ `Male Life Expectancy at Birth (years)`                                                          &lt;chr&gt; …
$ `Female Life Expectancy at Birth (years)`                                                        &lt;chr&gt; …
$ `Life Expectancy at Age 15, both sexes (years)`                                                  &lt;chr&gt; …
$ `Male Life Expectancy at Age 15 (years)`                                                         &lt;chr&gt; …
$ `Female Life Expectancy at Age 15 (years)`                                                       &lt;chr&gt; …
$ `Life Expectancy at Age 65, both sexes (years)`                                                  &lt;chr&gt; …
$ `Male Life Expectancy at Age 65 (years)`                                                         &lt;chr&gt; …
$ `Female Life Expectancy at Age 65 (years)`                                                       &lt;chr&gt; …
$ `Life Expectancy at Age 80, both sexes (years)`                                                  &lt;chr&gt; …
$ `Male Life Expectancy at Age 80 (years)`                                                         &lt;chr&gt; …
$ `Female Life Expectancy at Age 80 (years)`                                                       &lt;chr&gt; …
$ `Infant Deaths, under age 1 (thousands)`                                                         &lt;chr&gt; …
$ `Infant Mortality Rate (infant deaths per 1,000 live births)`                                    &lt;chr&gt; …
$ `Live Births Surviving to Age 1 (thousands)`                                                     &lt;chr&gt; …
$ `Under-Five Deaths, under age 5 (thousands)`                                                     &lt;chr&gt; …
$ `Under-Five Mortality (deaths under age 5 per 1,000 live births)`                                &lt;chr&gt; …
$ `Mortality before Age 40, both sexes (deaths under age 40 per 1,000 live births)`                &lt;chr&gt; …
$ `Male Mortality before Age 40 (deaths under age 40 per 1,000 male live births)`                  &lt;chr&gt; …
$ `Female Mortality before Age 40 (deaths under age 40 per 1,000 female live births)`              &lt;chr&gt; …
$ `Mortality before Age 60, both sexes (deaths under age 60 per 1,000 live births)`                &lt;chr&gt; …
$ `Male Mortality before Age 60 (deaths under age 60 per 1,000 male live births)`                  &lt;chr&gt; …
$ `Female Mortality before Age 60 (deaths under age 60 per 1,000 female live births)`              &lt;chr&gt; …
$ `Mortality between Age 15 and 50, both sexes (deaths under age 50 per 1,000 alive at age 15)`    &lt;chr&gt; …
$ `Male Mortality between Age 15 and 50 (deaths under age 50 per 1,000 males alive at age 15)`     &lt;chr&gt; …
$ `Female Mortality between Age 15 and 50 (deaths under age 50 per 1,000 females alive at age 15)` &lt;chr&gt; …
$ `Mortality between Age 15 and 60, both sexes (deaths under age 60 per 1,000 alive at age 15)`    &lt;chr&gt; …
$ `Male Mortality between Age 15 and 60 (deaths under age 60 per 1,000 males alive at age 15)`     &lt;chr&gt; …
$ `Female Mortality between Age 15 and 60 (deaths under age 60 per 1,000 females alive at age 15)` &lt;chr&gt; …
$ `Net Number of Migrants (thousands)`                                                             &lt;chr&gt; …
$ `Net Migration Rate (per 1,000 population)`                                                      &lt;chr&gt; …</code></pre>
</div>
</div>
</section>
<section id="summary-of-data" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-data">Summary of Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(UN_PPP2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Index             Variant          Region, subregion, country or area *
 Length:20596       Length:20596       Length:20596                        
 Class :character   Class :character   Class :character                    
 Mode  :character   Mode  :character   Mode  :character                    
    Notes           Location code      ISO3 Alpha-code    ISO2 Alpha-code   
 Length:20596       Length:20596       Length:20596       Length:20596      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
 SDMX code**            Type           Parent code            Year          
 Length:20596       Length:20596       Length:20596       Length:20596      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
 Total Population, as of 1 January (thousands)
 Length:20596                                 
 Class :character                             
 Mode  :character                             
 Total Population, as of 1 July (thousands)
 Length:20596                              
 Class :character                          
 Mode  :character                          
 Male Population, as of 1 July (thousands)
 Length:20596                             
 Class :character                         
 Mode  :character                         
 Female Population, as of 1 July (thousands)
 Length:20596                               
 Class :character                           
 Mode  :character                           
 Population Density, as of 1 July (persons per square km)
 Length:20596                                            
 Class :character                                        
 Mode  :character                                        
 Population Sex Ratio, as of 1 July (males per 100 females)
 Length:20596                                              
 Class :character                                          
 Mode  :character                                          
 Median Age, as of 1 July (years)
 Length:20596                    
 Class :character                
 Mode  :character                
 Natural Change, Births minus Deaths (thousands)
 Length:20596                                   
 Class :character                               
 Mode  :character                               
 Rate of Natural Change (per 1,000 population) Population Change (thousands)
 Length:20596                                  Length:20596                 
 Class :character                              Class :character             
 Mode  :character                              Mode  :character             
 Population Growth Rate (percentage) Population Annual Doubling Time (years)
 Length:20596                        Length:20596                           
 Class :character                    Class :character                       
 Mode  :character                    Mode  :character                       
 Births (thousands) Births by women aged 15 to 19 (thousands)
 Length:20596       Length:20596                             
 Class :character   Class :character                         
 Mode  :character   Mode  :character                         
 Crude Birth Rate (births per 1,000 population)
 Length:20596                                  
 Class :character                              
 Mode  :character                              
 Total Fertility Rate (live births per woman)
 Length:20596                                
 Class :character                            
 Mode  :character                            
 Net Reproduction Rate (surviving daughters per woman)
 Length:20596                                         
 Class :character                                     
 Mode  :character                                     
 Mean Age Childbearing (years) Sex Ratio at Birth (males per 100 female births)
 Length:20596                  Length:20596                                    
 Class :character              Class :character                                
 Mode  :character              Mode  :character                                
 Total Deaths (thousands) Male Deaths (thousands) Female Deaths (thousands)
 Length:20596             Length:20596            Length:20596             
 Class :character         Class :character        Class :character         
 Mode  :character         Mode  :character        Mode  :character         
 Crude Death Rate (deaths per 1,000 population)
 Length:20596                                  
 Class :character                              
 Mode  :character                              
 Life Expectancy at Birth, both sexes (years)
 Length:20596                                
 Class :character                            
 Mode  :character                            
 Male Life Expectancy at Birth (years) Female Life Expectancy at Birth (years)
 Length:20596                          Length:20596                           
 Class :character                      Class :character                       
 Mode  :character                      Mode  :character                       
 Life Expectancy at Age 15, both sexes (years)
 Length:20596                                 
 Class :character                             
 Mode  :character                             
 Male Life Expectancy at Age 15 (years)
 Length:20596                          
 Class :character                      
 Mode  :character                      
 Female Life Expectancy at Age 15 (years)
 Length:20596                            
 Class :character                        
 Mode  :character                        
 Life Expectancy at Age 65, both sexes (years)
 Length:20596                                 
 Class :character                             
 Mode  :character                             
 Male Life Expectancy at Age 65 (years)
 Length:20596                          
 Class :character                      
 Mode  :character                      
 Female Life Expectancy at Age 65 (years)
 Length:20596                            
 Class :character                        
 Mode  :character                        
 Life Expectancy at Age 80, both sexes (years)
 Length:20596                                 
 Class :character                             
 Mode  :character                             
 Male Life Expectancy at Age 80 (years)
 Length:20596                          
 Class :character                      
 Mode  :character                      
 Female Life Expectancy at Age 80 (years)
 Length:20596                            
 Class :character                        
 Mode  :character                        
 Infant Deaths, under age 1 (thousands)
 Length:20596                          
 Class :character                      
 Mode  :character                      
 Infant Mortality Rate (infant deaths per 1,000 live births)
 Length:20596                                               
 Class :character                                           
 Mode  :character                                           
 Live Births Surviving to Age 1 (thousands)
 Length:20596                              
 Class :character                          
 Mode  :character                          
 Under-Five Deaths, under age 5 (thousands)
 Length:20596                              
 Class :character                          
 Mode  :character                          
 Under-Five Mortality (deaths under age 5 per 1,000 live births)
 Length:20596                                                   
 Class :character                                               
 Mode  :character                                               
 Mortality before Age 40, both sexes (deaths under age 40 per 1,000 live births)
 Length:20596                                                                   
 Class :character                                                               
 Mode  :character                                                               
 Male Mortality before Age 40 (deaths under age 40 per 1,000 male live births)
 Length:20596                                                                 
 Class :character                                                             
 Mode  :character                                                             
 Female Mortality before Age 40 (deaths under age 40 per 1,000 female live births)
 Length:20596                                                                     
 Class :character                                                                 
 Mode  :character                                                                 
 Mortality before Age 60, both sexes (deaths under age 60 per 1,000 live births)
 Length:20596                                                                   
 Class :character                                                               
 Mode  :character                                                               
 Male Mortality before Age 60 (deaths under age 60 per 1,000 male live births)
 Length:20596                                                                 
 Class :character                                                             
 Mode  :character                                                             
 Female Mortality before Age 60 (deaths under age 60 per 1,000 female live births)
 Length:20596                                                                     
 Class :character                                                                 
 Mode  :character                                                                 
 Mortality between Age 15 and 50, both sexes (deaths under age 50 per 1,000 alive at age 15)
 Length:20596                                                                               
 Class :character                                                                           
 Mode  :character                                                                           
 Male Mortality between Age 15 and 50 (deaths under age 50 per 1,000 males alive at age 15)
 Length:20596                                                                              
 Class :character                                                                          
 Mode  :character                                                                          
 Female Mortality between Age 15 and 50 (deaths under age 50 per 1,000 females alive at age 15)
 Length:20596                                                                                  
 Class :character                                                                              
 Mode  :character                                                                              
 Mortality between Age 15 and 60, both sexes (deaths under age 60 per 1,000 alive at age 15)
 Length:20596                                                                               
 Class :character                                                                           
 Mode  :character                                                                           
 Male Mortality between Age 15 and 60 (deaths under age 60 per 1,000 males alive at age 15)
 Length:20596                                                                              
 Class :character                                                                          
 Mode  :character                                                                          
 Female Mortality between Age 15 and 60 (deaths under age 60 per 1,000 females alive at age 15)
 Length:20596                                                                                  
 Class :character                                                                              
 Mode  :character                                                                              
 Net Number of Migrants (thousands) Net Migration Rate (per 1,000 population)
 Length:20596                       Length:20596                             
 Class :character                   Class :character                         
 Mode  :character                   Mode  :character                         </code></pre>
</div>
</div>
<p>Relevant columns for data processing include:</p>
<ol type="1">
<li><p>Country: Name of the country</p></li>
<li><p>Fertility Rate: The average number of children per woman</p></li>
<li><p>Population: Population size of a country by the thousands (eg: 1 = 1 Thousand people)</p></li>
<li><p>Country Code: IS0-3 Format, Country abbreviated in the form “BDI” (Burundi), “COM” (Comoros), etc.</p></li>
</ol>
<p>Data Cleaning Process</p>
<p>The data was cleaned by removing the first 15 rows, setting the first row as the column names, removing all rows where the ISO3 Alpha-code is NA, keeping only rows where the year is 2021, and keeping only the columns “Region, subregion, country or area”, “Total Fertility Rate (live births per woman)”</p>
<p>This is because the data included multitude of other information that was not relevant, to extract out purely each countries information, we used only rows where ISO3 Alpha-code was not NA, and the year was 2021. We also renamed the columns to be more readable and arranged the data by fertility rate.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  Country                          `Fertility Rate`   Population  `Country Code`
  &lt;chr&gt;                            &lt;chr&gt;              &lt;chr&gt;       &lt;chr&gt;         
1 Niger                            6.82               24785.587   NER           
2 Somalia                          6.3120000000000003 16801.1699… SOM           
3 Chad                             6.2549999999999999 16910.2180… TCD           
4 Democratic Republic of the Congo 6.1559999999999997 94374.3790… COD           
5 Central African Republic         5.9779999999999998 5414.01400… CAF           
6 Mali                             5.9560000000000004 21561.2989… MLI           </code></pre>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The project aims to elevate the bubble plot graph from The New York Times which visualises population size versus fertility rate. The data-set has been sufficiently cleaned and is ready for the next stage of the project. The RStudio packages ‘ggplot2’ and ‘leaflet’ will be used to create a visually appealing and interactive chloropleth world-map.</p>
<p>By incorporating colour schema into a world map, it makes the graph more aesthetically appealing to audiences. Hence, this allows the audiences to be able to explore regional trends and patterns better, enhancing the graph’s analytical depth and also narrative impact.</p>
</section>
<section id="reference" class="level2">
<h2 class="anchored" data-anchor-id="reference">References</h2>
<ol type="1">
<li><span id="ref1">Network, T. L</span>. (2023, November 9). What’s Going On in This Graph? | Global Population Growth and Decline. The New York Times. Global Population Growth and Decline. The New York Times <a href="https://www.nytimes.com/2023/11/09/learning/whats-going-on-in-this-graph-nov-15-2023.html">https://www.nytimes.com/2023/11/09/learning/whats-going-on-in-this-graph-nov-15-2023.html</a></li>
<li><span id="ref2">Cynthia Brewer, Mark Harrower and The Pennsylvania State University</span>. (2013). Colorbrewer 2.0. ColorBrewer. <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3</a></li>
</ol>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>